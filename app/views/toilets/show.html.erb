<p id="notice"><%= notice %></p>

<h1><%= @toilet.toilet_name %></h1>

<div class="form-flame">

  <table>
    <tr>
      <td class="item men">男性用</td>
      <td class="item">メニュー</td>
      <td class="item women">女性用</td>
    </tr>
    <tr>
      <td class="item men"><%= @toilet.m_urinal %></td>
      <td class="item">小便器</td>
      <td class="item women">-</td>
    </tr>
    <tr>
      <td class="item men"><%= @toilet.m_room %></td>
      <td class="item">個室</td>
      <td class="item women"><%= @toilet.w_room %></td>
    </tr>
    <tr>
      <td class="item men">
        <% if @toilet.m_washlet == true %>
        ○
        <% elsif @toilet.m_room == nil %>
        ?
        <% else %>
        ×
        <% end %>
      </td>
      <td class="item">ウォシュレット</td>
      <td class="item women">
        <% if @toilet.w_washlet == true %>
        ○
        <% elsif @toilet.w_room == nil %>
        ?
        <% else %>
        ×
        <% end %>
      </td>
    </tr>

  </table>

  <div class="field">
    <strong>多目的トイレ</strong>
    <% if @toilet.multipurpose == true %>
    ○
    <% else %>
    ×
    <% end %>
  </div>

  <div class="field">
    <strong>小便器</strong>
    <%= @toilet.m_urinal %>
  </div>

  <div class="field">
    <strong>個室</strong>
    <%= @toilet.m_room %>
  </div>

  <div class="field">
    <strong>ウォシュレット</strong>
    <% if @toilet.m_washlet == true %>
    ○
    <% elsif @toilet.m_room == nil %>
    ?
    <% else %>
    ×
    <% end %>
  </div>

  <div class="field">
    <strong>個室</strong>
    <%= @toilet.w_room %>
  </div>

  <div class="field">
    <strong>ウォシュレット</strong>
    <% if @toilet.w_washlet == true %>
    ○
    <% elsif @toilet.w_room == nil %>
    ?
    <% else %>
    ×
    <% end %>
  </div>

  <div class="field">
    <strong>使用可能時間</strong>
    <%= @toilet.open_time.strftime( "%H:%M" ) %>-<%= @toilet.close_time.strftime( "%H:%M" ) %>
  </div>

  <div class="field">
    <strong>備考</strong>
    <%= @toilet.remark %>
  </div>
</div>


<%= link_to 'Edit', edit_toilet_path(@toilet) %> |
<%= link_to 'Back', toilets_path %>


<p>
  <strong>取得した経度と緯度</strong>
  <%= @toilet.latitude %>
  <%= @toilet.longtitude %>
</p>


<input type="hidden" id="xyz" value="<%= @latlng %>">

<!-- 以下、GoogleMAP API部分 -->
<style>
/* マップを表示する div 要素の高さを必ず明示的に指定します。 */
#map {
  height: 400px;
  width: 600px;
}
</style>

<div id="map"></div><!-- 地図を表示する div 要素（id="map"）-->

<script>
let map;
const latitude = gon.latitude;
const longtitude = gon.longtitude;
function initMap() {
  let myLatlng = new google.maps.LatLng(latitude, longtitude);
  //インスタンスを作成
  map = new google.maps.Map(document.getElementById('map'), {
    //地図のオプション
    //初期のズームレベル
    zoom: 17,
    //地図の中心点
    center: myLatlng
  });
  //マーカーの初期プロパティを指定
  marker = new google.maps.Marker({
    position: myLatlng,
    map: map
  });
}
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgk50-Uh4K60ddzGNY5yOcfx4clQMNYNU&callback=initMap" async defer></script>
